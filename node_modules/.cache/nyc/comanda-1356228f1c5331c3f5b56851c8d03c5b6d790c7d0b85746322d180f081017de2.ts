"use strict";function cov_1aquoyfw1w(){var path="/home/usuario/dsi/practica7/src/comanda.ts";var hash="a2ad7dfc75e9dff1a81d6c4815301a265d51bb14";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/usuario/dsi/practica7/src/comanda.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:25}},"2":{start:{line:4,column:17},end:{line:4,column:36}},"3":{start:{line:10,column:8},end:{line:10,column:27}},"4":{start:{line:16,column:8},end:{line:16,column:26}},"5":{start:{line:23,column:8},end:{line:23,column:28}},"6":{start:{line:31,column:29},end:{line:31,column:62}},"7":{start:{line:39,column:8},end:{line:41,column:11}},"8":{start:{line:40,column:12},end:{line:40,column:55}},"9":{start:{line:49,column:30},end:{line:49,column:65}},"10":{start:{line:50,column:8},end:{line:52,column:11}},"11":{start:{line:51,column:12},end:{line:51,column:56}},"12":{start:{line:59,column:8},end:{line:59,column:51}},"13":{start:{line:66,column:8},end:{line:66,column:52}},"14":{start:{line:73,column:31},end:{line:73,column:33}},"15":{start:{line:74,column:8},end:{line:86,column:11}},"16":{start:{line:75,column:12},end:{line:75,column:34}},"17":{start:{line:76,column:12},end:{line:85,column:13}},"18":{start:{line:77,column:16},end:{line:79,column:17}},"19":{start:{line:78,column:20},end:{line:78,column:50}},"20":{start:{line:81,column:17},end:{line:85,column:13}},"21":{start:{line:82,column:16},end:{line:84,column:17}},"22":{start:{line:83,column:20},end:{line:83,column:50}},"23":{start:{line:87,column:8},end:{line:87,column:30}},"24":{start:{line:94,column:29},end:{line:94,column:64}},"25":{start:{line:95,column:8},end:{line:95,column:36}},"26":{start:{line:98,column:8},end:{line:116,column:11}},"27":{start:{line:100,column:12},end:{line:100,column:54}},"28":{start:{line:101,column:12},end:{line:103,column:13}},"29":{start:{line:102,column:16},end:{line:102,column:46}},"30":{start:{line:119,column:0},end:{line:119,column:26}},"31":{start:{line:132,column:0},end:{line:136,column:30}},"32":{start:{line:133,column:4},end:{line:133,column:50}},"33":{start:{line:134,column:4},end:{line:134,column:41}},"34":{start:{line:135,column:4},end:{line:135,column:31}},"35":{start:{line:139,column:4},end:{line:139,column:20}},"36":{start:{line:140,column:4},end:{line:145,column:7}},"37":{start:{line:149,column:4},end:{line:149,column:20}},"38":{start:{line:151,column:20},end:{line:156,column:6}},"39":{start:{line:157,column:4},end:{line:168,column:5}},"40":{start:{line:161,column:12},end:{line:161,column:18}},"41":{start:{line:164,column:12},end:{line:164,column:18}},"42":{start:{line:167,column:12},end:{line:167,column:18}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:23},end:{line:17,column:5}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:21},end:{line:24,column:5}},line:22},"2":{name:"(anonymous_2)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:40},end:{line:42,column:5}},line:30},"3":{name:"(anonymous_3)",decl:{start:{line:39,column:29},end:{line:39,column:30}},loc:{start:{line:39,column:42},end:{line:41,column:9}},line:39},"4":{name:"(anonymous_4)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:43},end:{line:53,column:5}},line:48},"5":{name:"(anonymous_5)",decl:{start:{line:50,column:30},end:{line:50,column:31}},loc:{start:{line:50,column:43},end:{line:52,column:9}},line:50},"6":{name:"(anonymous_6)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:18},end:{line:60,column:5}},line:58},"7":{name:"(anonymous_7)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:19},end:{line:67,column:5}},line:65},"8":{name:"(anonymous_8)",decl:{start:{line:72,column:4},end:{line:72,column:5}},loc:{start:{line:72,column:31},end:{line:88,column:5}},line:72},"9":{name:"(anonymous_9)",decl:{start:{line:74,column:32},end:{line:74,column:33}},loc:{start:{line:74,column:46},end:{line:86,column:9}},line:74},"10":{name:"(anonymous_10)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:45},end:{line:117,column:5}},line:93},"11":{name:"(anonymous_11)",decl:{start:{line:98,column:29},end:{line:98,column:30}},loc:{start:{line:98,column:43},end:{line:116,column:9}},line:98},"12":{name:"(anonymous_12)",decl:{start:{line:132,column:1},end:{line:132,column:2}},loc:{start:{line:132,column:20},end:{line:136,column:1}},line:132},"13":{name:"promptSecond",decl:{start:{line:138,column:15},end:{line:138,column:27}},loc:{start:{line:138,column:30},end:{line:146,column:1}},line:138},"14":{name:"promptComanda",decl:{start:{line:148,column:9},end:{line:148,column:22}},loc:{start:{line:148,column:25},end:{line:169,column:1}},line:148}},branchMap:{"0":{loc:{start:{line:76,column:12},end:{line:85,column:13}},type:"if",locations:[{start:{line:76,column:12},end:{line:85,column:13}},{start:{line:76,column:12},end:{line:85,column:13}}],line:76},"1":{loc:{start:{line:77,column:16},end:{line:79,column:17}},type:"if",locations:[{start:{line:77,column:16},end:{line:79,column:17}},{start:{line:77,column:16},end:{line:79,column:17}}],line:77},"2":{loc:{start:{line:81,column:17},end:{line:85,column:13}},type:"if",locations:[{start:{line:81,column:17},end:{line:85,column:13}},{start:{line:81,column:17},end:{line:85,column:13}}],line:81},"3":{loc:{start:{line:82,column:16},end:{line:84,column:17}},type:"if",locations:[{start:{line:82,column:16},end:{line:84,column:17}},{start:{line:82,column:16},end:{line:84,column:17}}],line:82},"4":{loc:{start:{line:101,column:12},end:{line:103,column:13}},type:"if",locations:[{start:{line:101,column:12},end:{line:103,column:13}},{start:{line:101,column:12},end:{line:103,column:13}}],line:101},"5":{loc:{start:{line:136,column:3},end:{line:136,column:28}},type:"binary-expr",locations:[{start:{line:136,column:3},end:{line:136,column:10}},{start:{line:136,column:15},end:{line:136,column:27}}],line:136},"6":{loc:{start:{line:157,column:4},end:{line:168,column:5}},type:"switch",locations:[{start:{line:158,column:8},end:{line:161,column:18}},{start:{line:162,column:8},end:{line:164,column:18}},{start:{line:165,column:8},end:{line:167,column:18}}],line:157}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0]},inputSourceMap:{version:3,file:"/home/usuario/dsi/practica7/src/comanda.ts",sources:["/home/usuario/dsi/practica7/src/comanda.ts"],names:[],mappings:"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",sourcesContent:["import { Carta } from \"./carta\";\nimport { Plato } from \"./plato\";\nimport { Menu } from \"./menu\";\n\nconst inquirer = require('inquirer');\n\n/**\n * Esta es la clase Comanda. \n */\nexport class Comanda {\n  /**\n   * Constructor de la clase Comanda.\n   * @param carta Nombre de la carta.\n   */\n  // Comanda -> [Lo que pide, cantidad de lo que pide]\n  private comanda: [Menu|Plato, number][] = [];\n  constructor(private carta: Carta) { //, private arrayComanda: [Menu|Plato, number][]) {\n  }\n\n  /**\n   * Obtiene la comanda.\n   * @returns La comanda entera.\n   */\n  mostrarComanda() {\n    return this.comanda;\n  }\n  \n  /**\n   * M\xE9todo que permite al cliente a\xF1adir un men\xFA a la comanda\n   * @param nombreMenu El nombre del men\xFA que quiere a\xF1adir a la comanda.\n   * @param cantidadMenu La cantidad de men\xFAs que quiere a\xF1adir a la comanda.\n   */\n  sumarMenu(nombreMenu: string, cantidadMenu: number) {\n    const matchedMenus = this.carta.searchMenu(nombreMenu);\n    // EN ESTE PUNTO, SI HAY CERO O M\xC1S DE DOS COINCIDENCIAS EN EL MEN\xDA \n    // preguntar al cliente con cu\xE1l de ellas se quiere quedar u ofrecerle buscar de nuevo. \n\n    /**\n     * Esto lo que hace es que todos los platos que coincidan con el nombre buscado,\n     * los a\xF1ade igualmente a la comanda y en la misma cantidad.\n     * As\xED que HAY QUE ARREGLARLO.\n     */\n    matchedMenus.forEach((element) => {\n      this.comanda.push([element, cantidadMenu]);\n    });\n  }\n\n  /**\n   * M\xE9todo que permite al cliente a\xF1adir un plato a la comanda\n   * @param nombrePlato El nombre del plato que quiere a\xF1adir a la comanda.\n   * @param cantidadPlato La cantidad de este tipo de platos que quiere a\xF1adir a la comanda.\n   */\n  sumarPlato(nombrePlato: string, cantidadPlato: number) {\n    const matchedPlatos = this.carta.searchPlato(nombrePlato);\n\n    matchedPlatos.forEach((element) => {\n      this.comanda.push([element, cantidadPlato]);\n    });\n  }\n\n  /**\n   * Funci\xF3n para deshacer el guardi\xE1n de tipos.\n   * @returns True si el objeto es de clase Menu.\n   */\n  isMenu(myObj: any): myObj is Menu {\n    return myObj.getNombreMenu() !== undefined;\n  }\n\n  /**\n   * Funci\xF3n para deshacer el guardi\xE1n de tipos.\n   * @returns True si el objeto es de clase Plato.\n   */\n  isPlato(myObj: any): myObj is Plato {\n    return myObj.getNombrePlato() !== undefined;\n  }\n\n  /**\n   * M\xE9todo que permite encontrar una comanda deseada.\n   * @param nombre Nombre de la comanda a buscar.\n   */\n  encontrarEnComanda(nombre: string) {\n    const matchedResults: (Menu|Plato)[] = [];\n    this.comanda[0].forEach((elemento) => {\n      console.log(elemento);\n      if (this.isMenu(elemento)) {\n        if (elemento.getNombreMenu().search(nombre) > -1) {\n          matchedResults.push(elemento);\n        }\n      } else if (this.isPlato(elemento)) {\n        if (elemento.getNombrePlato().search(nombre) > -1) {\n          matchedResults.push(elemento);\n        }\n      }\n    });\n    return matchedResults;\n  }\n\n  /**\n   * M\xE9todo que permite eliminar una comanda deseada.\n   * @param nombre Nombre de la comanda a eliminar.\n   */\n  quitarElemento(nombreMenu: string, cantidadMenu: number) {\n    const matchedMenus: (Menu|Plato)[] = this.encontrarEnComanda(nombreMenu);\n    console.table(matchedMenus);      // IMPRIMIR PARA COMPROBAR QU\xC9 ENCUENTRA PARA BORRAR\n    let index;\n    let valorObjeto: (Menu|Plato);\n    this.comanda.forEach((elemento) => {\n      //valorObjeto = elemento[0];\n      index = this.comanda.indexOf(elemento, 0);\n      if (index > -1) {\n        this.comanda.splice(index, 1);\n      }\n        /*\n      if (this.isMenu(element[0])) {\n        index = this.comanda.indexOf(element[0], 0);\n        if (index > -1) {\n          this.comanda.splice(index, 1);\n        }\n      } else if (this.isPlato(element[0]) {\n        index = this.comanda.indexOf(element[0], 0);\n        if (index > -1) {\n          this.comanda.splice(index, 1);\n        }\n      }*/\n    });\n  }\n}\n\n/*\n* 1: Visualizar la carta del restaurante: Para cada men\xFA y/o plato, \n*   el cliente querr\xE1 poder observar toda la informaci\xF3n que tiene \n*   (precio, ingredientes, composici\xF3n nutricional y grupos de alimentos).\n*\n* 2: Realizar una comanda: El cliente podra: -> Elegir una comanda del menu preestablecido\n*                                            -> Podra crear un menu personalizado en base a la carta -> visualizar la carta\n*                                                                                                     -> Elegir platos y cantidad\n*                                            -> Podra modificar uno de los menu preestablecidos -> Eliminando platos\n*/\n\n//Esto enumarara las diferentes opciones del menu principal\nenum options{\n  Visualizar = \"Visualizar la Carta\",\n  Comanda = \"Hacer comanda\",\n  Salir = \"Salir\"\n}\n\n//Segundo Menu para el caso de  Comandas\nasync function promptSecond(): Promise<void> {\n  console.clear();\n  inquirer.prompt({\n    type: 'list',\n    name: 'segundarespuesta',\n    Message: '\xBFQue desea hacer ahora?',\n    choices: ''\n    \n  })\n}\n\n// Funcion principal del menu \nfunction promptComanda(){\n  console.clear();\n  //seria necesario el async si quisieramos ejecutar algo aqui a parte como la visualizacion de algo\n  const answers = inquirer.prompt({\n    type: 'list',\n    name: 'respuesta',\n    message: 'Seleccione una opcion:',\n    choices: Object.values(options)\n  });\n  \n  switch (answers[\"respuesta\"]) {\n    case options.Visualizar:\n      //Llamada a un funcion que devuelva la carta del restaurante \n      //let miCarta = new Carta(nombre,todos los menus de la carta, platos sueltos);\n      break;\n\n    case options.Comanda:\n      //Aqui va la funcion que ejecuta un menu interno que permite modificar o seleccionar un menu personalizado\n      break;\n    case options.Salir:\n      //salimos\n      break;\n  }\n}"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a2ad7dfc75e9dff1a81d6c4815301a265d51bb14"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1aquoyfw1w=function(){return actualCoverage;};}return actualCoverage;}cov_1aquoyfw1w();cov_1aquoyfw1w().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1aquoyfw1w().s[1]++;exports.Comanda=void 0;const inquirer=(cov_1aquoyfw1w().s[2]++,require('inquirer'));/**
 * Esta es la clase Comanda.
 */class Comanda{constructor(carta){cov_1aquoyfw1w().f[0]++;cov_1aquoyfw1w().s[3]++;this.carta=carta;/**
         * Constructor de la clase Comanda.
         * @param carta Nombre de la carta.
         */ // Comanda -> [Lo que pide, cantidad de lo que pide]
cov_1aquoyfw1w().s[4]++;this.comanda=[];}/**
     * Obtiene la comanda.
     * @returns La comanda entera.
     */mostrarComanda(){cov_1aquoyfw1w().f[1]++;cov_1aquoyfw1w().s[5]++;return this.comanda;}/**
     * Método que permite al cliente añadir un menú a la comanda
     * @param nombreMenu El nombre del menú que quiere añadir a la comanda.
     * @param cantidadMenu La cantidad de menús que quiere añadir a la comanda.
     */sumarMenu(nombreMenu,cantidadMenu){cov_1aquoyfw1w().f[2]++;const matchedMenus=(cov_1aquoyfw1w().s[6]++,this.carta.searchMenu(nombreMenu));// EN ESTE PUNTO, SI HAY CERO O MÁS DE DOS COINCIDENCIAS EN EL MENÚ 
// preguntar al cliente con cuál de ellas se quiere quedar u ofrecerle buscar de nuevo. 
/**
         * Esto lo que hace es que todos los platos que coincidan con el nombre buscado,
         * los añade igualmente a la comanda y en la misma cantidad.
         * Así que HAY QUE ARREGLARLO.
         */cov_1aquoyfw1w().s[7]++;matchedMenus.forEach(element=>{cov_1aquoyfw1w().f[3]++;cov_1aquoyfw1w().s[8]++;this.comanda.push([element,cantidadMenu]);});}/**
     * Método que permite al cliente añadir un plato a la comanda
     * @param nombrePlato El nombre del plato que quiere añadir a la comanda.
     * @param cantidadPlato La cantidad de este tipo de platos que quiere añadir a la comanda.
     */sumarPlato(nombrePlato,cantidadPlato){cov_1aquoyfw1w().f[4]++;const matchedPlatos=(cov_1aquoyfw1w().s[9]++,this.carta.searchPlato(nombrePlato));cov_1aquoyfw1w().s[10]++;matchedPlatos.forEach(element=>{cov_1aquoyfw1w().f[5]++;cov_1aquoyfw1w().s[11]++;this.comanda.push([element,cantidadPlato]);});}/**
     * Función para deshacer el guardián de tipos.
     * @returns True si el objeto es de clase Menu.
     */isMenu(myObj){cov_1aquoyfw1w().f[6]++;cov_1aquoyfw1w().s[12]++;return myObj.getNombreMenu()!==undefined;}/**
     * Función para deshacer el guardián de tipos.
     * @returns True si el objeto es de clase Plato.
     */isPlato(myObj){cov_1aquoyfw1w().f[7]++;cov_1aquoyfw1w().s[13]++;return myObj.getNombrePlato()!==undefined;}/**
     * Método que permite encontrar una comanda deseada.
     * @param nombre Nombre de la comanda a buscar.
     */encontrarEnComanda(nombre){cov_1aquoyfw1w().f[8]++;const matchedResults=(cov_1aquoyfw1w().s[14]++,[]);cov_1aquoyfw1w().s[15]++;this.comanda[0].forEach(elemento=>{cov_1aquoyfw1w().f[9]++;cov_1aquoyfw1w().s[16]++;console.log(elemento);cov_1aquoyfw1w().s[17]++;if(this.isMenu(elemento)){cov_1aquoyfw1w().b[0][0]++;cov_1aquoyfw1w().s[18]++;if(elemento.getNombreMenu().search(nombre)>-1){cov_1aquoyfw1w().b[1][0]++;cov_1aquoyfw1w().s[19]++;matchedResults.push(elemento);}else{cov_1aquoyfw1w().b[1][1]++;}}else{cov_1aquoyfw1w().b[0][1]++;cov_1aquoyfw1w().s[20]++;if(this.isPlato(elemento)){cov_1aquoyfw1w().b[2][0]++;cov_1aquoyfw1w().s[21]++;if(elemento.getNombrePlato().search(nombre)>-1){cov_1aquoyfw1w().b[3][0]++;cov_1aquoyfw1w().s[22]++;matchedResults.push(elemento);}else{cov_1aquoyfw1w().b[3][1]++;}}else{cov_1aquoyfw1w().b[2][1]++;}}});cov_1aquoyfw1w().s[23]++;return matchedResults;}/**
     * Método que permite eliminar una comanda deseada.
     * @param nombre Nombre de la comanda a eliminar.
     */quitarElemento(nombreMenu,cantidadMenu){cov_1aquoyfw1w().f[10]++;const matchedMenus=(cov_1aquoyfw1w().s[24]++,this.encontrarEnComanda(nombreMenu));cov_1aquoyfw1w().s[25]++;console.table(matchedMenus);// IMPRIMIR PARA COMPROBAR QUÉ ENCUENTRA PARA BORRAR
let index;let valorObjeto;cov_1aquoyfw1w().s[26]++;this.comanda.forEach(elemento=>{cov_1aquoyfw1w().f[11]++;cov_1aquoyfw1w().s[27]++;//valorObjeto = elemento[0];
index=this.comanda.indexOf(elemento,0);cov_1aquoyfw1w().s[28]++;if(index>-1){cov_1aquoyfw1w().b[4][0]++;cov_1aquoyfw1w().s[29]++;this.comanda.splice(index,1);}else{cov_1aquoyfw1w().b[4][1]++;}/*
          if (this.isMenu(element[0])) {
            index = this.comanda.indexOf(element[0], 0);
            if (index > -1) {
              this.comanda.splice(index, 1);
            }
          } else if (this.isPlato(element[0]) {
            index = this.comanda.indexOf(element[0], 0);
            if (index > -1) {
              this.comanda.splice(index, 1);
            }
          }*/});}}cov_1aquoyfw1w().s[30]++;exports.Comanda=Comanda;/*
* 1: Visualizar la carta del restaurante: Para cada menú y/o plato,
*   el cliente querrá poder observar toda la información que tiene
*   (precio, ingredientes, composición nutricional y grupos de alimentos).
*
* 2: Realizar una comanda: El cliente podra: -> Elegir una comanda del menu preestablecido
*                                            -> Podra crear un menu personalizado en base a la carta -> visualizar la carta
*                                                                                                     -> Elegir platos y cantidad
*                                            -> Podra modificar uno de los menu preestablecidos -> Eliminando platos
*/ //Esto enumarara las diferentes opciones del menu principal
var options;cov_1aquoyfw1w().s[31]++;(function(options){cov_1aquoyfw1w().f[12]++;cov_1aquoyfw1w().s[32]++;options["Visualizar"]="Visualizar la Carta";cov_1aquoyfw1w().s[33]++;options["Comanda"]="Hacer comanda";cov_1aquoyfw1w().s[34]++;options["Salir"]="Salir";})((cov_1aquoyfw1w().b[5][0]++,options)||(cov_1aquoyfw1w().b[5][1]++,options={}));//Segundo Menu para el caso de  Comandas
async function promptSecond(){cov_1aquoyfw1w().f[13]++;cov_1aquoyfw1w().s[35]++;console.clear();cov_1aquoyfw1w().s[36]++;inquirer.prompt({type:'list',name:'segundarespuesta',Message:'¿Que desea hacer ahora?',choices:''});}// Funcion principal del menu 
function promptComanda(){cov_1aquoyfw1w().f[14]++;cov_1aquoyfw1w().s[37]++;console.clear();//seria necesario el async si quisieramos ejecutar algo aqui a parte como la visualizacion de algo
const answers=(cov_1aquoyfw1w().s[38]++,inquirer.prompt({type:'list',name:'respuesta',message:'Seleccione una opcion:',choices:Object.values(options)}));cov_1aquoyfw1w().s[39]++;switch(answers["respuesta"]){case options.Visualizar:cov_1aquoyfw1w().b[6][0]++;cov_1aquoyfw1w().s[40]++;//Llamada a un funcion que devuelva la carta del restaurante 
//let miCarta = new Carta(nombre,todos los menus de la carta, platos sueltos);
break;case options.Comanda:cov_1aquoyfw1w().b[6][1]++;cov_1aquoyfw1w().s[41]++;//Aqui va la funcion que ejecuta un menu interno que permite modificar o seleccionar un menu personalizado
break;case options.Salir:cov_1aquoyfw1w().b[6][2]++;cov_1aquoyfw1w().s[42]++;//salimos
break;}}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdXN1YXJpby9kc2kvcHJhY3RpY2E3L3NyYy9jb21hbmRhLnRzIiwic291cmNlcyI6WyIvaG9tZS91c3VhcmlvL2RzaS9wcmFjdGljYTcvc3JjL2NvbWFuZGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBSUEsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBRXJDOztHQUVHO0FBQ0gsTUFBYSxPQUFPO0lBT2xCLFlBQW9CLEtBQVk7UUFBWixVQUFLLEdBQUwsS0FBSyxDQUFPO1FBTmhDOzs7V0FHRztRQUNILG9EQUFvRDtRQUM1QyxZQUFPLEdBQTJCLEVBQUUsQ0FBQztJQUU3QyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsY0FBYztRQUNaLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN0QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFNBQVMsQ0FBQyxVQUFrQixFQUFFLFlBQW9CO1FBQ2hELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZELG9FQUFvRTtRQUNwRSx3RkFBd0Y7UUFFeEY7Ozs7V0FJRztRQUNILFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUMvQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxVQUFVLENBQUMsV0FBbUIsRUFBRSxhQUFxQjtRQUNuRCxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUUxRCxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDaEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsYUFBYSxD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Q1osSUFBSSxFQUFFLFdBQVc7UUFDakIsT0FBTyxFQUFFLHdCQUF3QjtRQUNqQyxPQUFPLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7S0FDaEMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDNUIsS0FBSyxPQUFPLENBQUMsVUFBVTtZQUNyQiw2REFBNkQ7WUFDN0QsOEVBQThFO1lBQzlFLE1BQU07UUFFUixLQUFLLE9BQU8sQ0FBQyxPQUFPO1lBQ2xCLDBHQUEwRztZQUMxRyxNQUFNO1FBQ1IsS0FBSyxPQUFPLENBQUMsS0FBSztZQUNoQixTQUFTO1lBQ1QsTUFBTTtLQUNUO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhcnRhIH0gZnJvbSBcIi4vY2FydGFcIjtcbmltcG9ydCB7IFBsYXRvIH0gZnJvbSBcIi4vcGxhdG9cIjtcbmltcG9ydCB7IE1lbnUgfSBmcm9tIFwiLi9tZW51XCI7XG5cbmNvbnN0IGlucXVpcmVyID0gcmVxdWlyZSgnaW5xdWlyZXInKTtcblxuLyoqXG4gKiBFc3RhIGVzIGxhIGNsYXNlIENvbWFuZGEuIFxuICovXG5leHBvcnQgY2xhc3MgQ29tYW5kYSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBkZSBsYSBjbGFzZSBDb21hbmRhLlxuICAgKiBAcGFyYW0gY2FydGEgTm9tYnJlIGRlIGxhIGNhcnRhLlxuICAgKi9cbiAgLy8gQ29tYW5kYSAtPiBbTG8gcXVlIHBpZGUsIGNhbnRpZGFkIGRlIGxvIHF1ZSBwaWRlXVxuICBwcml2YXRlIGNvbWFuZGE6IFtNZW51fFBsYXRvLCBudW1iZXJdW10gPSBbXTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjYXJ0YTogQ2FydGEpIHsgLy8sIHByaXZhdGUgYXJyYXlDb21hbmRhOiBbTWVudXxQbGF0bywgbnVtYmVyXVtdKSB7XG4gIH1cblxuICAvKipcbiAgICogT2J0aWVuZSBsYSBjb21hbmRhLlxuICAgKiBAcmV0dXJucyBMYSBjb21hbmRhIGVudGVyYS5cbiAgICovXG4gIG1vc3RyYXJDb21hbmRhKCkge1xuICAgIHJldHVybiB0aGlzLmNvbWFuZGE7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBNw6l0b2RvIHF1ZSBwZXJtaXRlIGFsIGNsaWVudGUgYcOxYWRpciB1biBtZW7DuiBhIGxhIGNvbWFuZGFcbiAgICogQHBhcmFtIG5vbWJyZU1lbnUgRWwgbm9tYnJlIGRlbCBtZW7DuiBxdWUgcXVpZXJlIGHDsWFkaXIgYSBsYSBjb21hbmRhLlxuICAgKiBAcGFyYW0gY2FudGlkYWRNZW51IExhIGNhbnRpZGFkIGRlIG1lbsO6cyBxdWUgcXVpZXJlIGHDsWFkaXIgYSBsYSBjb21hbmRhLlxuICAgKi9cbiAgc3VtYXJNZW51KG5vbWJyZU1lbnU6IHN0cmluZywgY2FudGlkYWRNZW51OiBudW1iZXIpIHtcbiAgICBjb25zdCBtYXRjaGVkTWVudXMgPSB0aGlzLmNhcnRhLnNlYXJjaE1lbnUobm9tYnJlTWVudSk7XG4gICAgLy8gRU4gRVNURSBQVU5UTywgU0kgSEFZIENFUk8gTyBNw4FTIERFIERPUyBDT0lOQ0lERU5DSUFTIEVOIEVMIE1FTsOaIFxuICAgIC8vIHByZWd1bnRhciBhbCBjbGllbnRlIGNvbiBjdcOhbCBkZSBlbGxhcyBzZSBxdWllcmUgcXVlZGFyIHUgb2ZyZWNlcmxlIGJ1c2NhciBkZSBudWV2by4gXG5cbiAgICAvKipcbiAgICAgKiBFc3RvIGxvIHF1ZSBoYWNlIGVzIHF1ZSB0b2RvcyBsb3MgcGxhdG9zIHF1ZSBjb2luY2lkYW4gY29uIGVsIG5vbWJyZSBidXNjYWRvLFxuICAgICAqIGxvcyBhw7FhZGUgaWd1YWxtZW50ZSBhIGxhIGNvbWFuZGEgeSBlbiBsYSBtaXNtYSBjYW50aWRhZC5cbiAgICAgKiBBc8OtIHF1ZSBIQVkgUVVFIEFSUkVHTEFSTE8uXG4gICAgICovXG4gICAgbWF0Y2hlZE1lbnVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuY29tYW5kYS5wdXNoKFtlbGVtZW50LCBjYW50aWRhZE1lbnVdKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNw6l0b2RvIHF1ZSBwZXJtaXRlIGFsIGNsaWVudGUgYcOxYWRpciB1biBwbGF0byBhIGxhIGNvbWFuZGFcbiAgICogQHBhcmFtIG5vbWJyZVBsYXRvIEVsIG5vbWJyZSBkZWwgcGxhdG8gcXVlIHF1aWVyZSBhw7FhZGlyIGEgbGEgY29tYW5kYS5cbiAgICogQHBhcmFtIGNhbnRpZGFkUGxhdG8gTGEgY2FudGlkYWQgZGUgZXN0ZSB0aXBvIGRlIHBsYXRvcyBxdWUgcXVpZXJlIGHDsWFkaXIgYSBsYSBjb21hbmRhLlxuICAgKi9cbiAgc3VtYXJQbGF0byhub21icmVQbGF0bzogc3RyaW5nLCBjYW50aWRhZFBsYXRvOiBudW1iZXIpIHtcbiAgICBjb25zdCBtYXRjaGVkUGxhdG9zID0gdGhpcy5jYXJ0YS5zZWFyY2hQbGF0byhub21icmVQbGF0byk7XG5cbiAgICBtYXRjaGVkUGxhdG9zLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuY29tYW5kYS5wdXNoKFtlbGVtZW50LCBjYW50aWRhZFBsYXRvXSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRnVuY2nDs24gcGFyYSBkZXNoYWNlciBlbCBndWFyZGnDoW4gZGUgdGlwb3MuXG4gICAqIEByZXR1cm5zIFRydWUgc2kgZWwgb2JqZXRvIGVzIGRlIGNsYXNlIE1lbnUuXG4gICAqL1xuICBpc01lbnUobXlPYmo6IGFueSk6IG15T2JqIGlzIE1lbnUge1xuICAgIHJldHVybiBteU9iai5nZXROb21icmVNZW51KCkgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jacOzbiBwYXJhIGRlc2hhY2VyIGVsIGd1YXJkacOhbiBkZSB0aXBvcy5cbiAgICogQHJldHVybnMgVHJ1ZSBzaSBlbCBvYmpldG8gZXMgZGUgY2xhc2UgUGxhdG8uXG4gICAqL1xuICBpc1BsYXRvKG15T2JqOiBhbnkpOiBteU9iaiBpcyBQbGF0byB7XG4gICAgcmV0dXJuIG15T2JqLmdldE5vbWJyZVBsYXRvKCkgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNw6l0b2RvIHF1ZSBwZXJtaXRlIGVuY29udHJhciB1bmEgY29tYW5kYSBkZXNlYWRhLlxuICAgKiBAcGFyYW0gbm9tYnJlIE5vbWJyZSBkZSBsYSBjb21hbmRhIGEgYnVzY2FyLlxuICAgKi9cbiAgZW5jb250cmFyRW5Db21hbmRhKG5vbWJyZTogc3RyaW5nKSB7XG4gICAgY29uc3QgbWF0Y2hlZFJlc3VsdHM6IChNZW51fFBsYXRvKVtdID0gW107XG4gICAgdGhpcy5jb21hbmRhWzBdLmZvckVhY2goKGVsZW1lbnRvKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlbGVtZW50byk7XG4gICAgICBpZiAodGhpcy5pc01lbnUoZWxlbWVudG8pKSB7XG4gICAgICAgIGlmIChlbGVtZW50by5nZXROb21icmVNZW51KCkuc2VhcmNoKG5vbWJyZSkgPiAtMSkge1xuICAgICAgICAgIG1hdGNoZWRSZXN1bHRzLnB1c2goZWxlbWVudG8pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNQbGF0byhlbGVtZW50bykpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRvLmdldE5vbWJyZVBsYXRvKCkuc2VhcmNoKG5vbWJyZSkgPiAtMSkge1xuICAgICAgICAgIG1hdGNoZWRSZXN1bHRzLnB1c2goZWxlbWVudG8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoZWRSZXN1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIE3DqXRvZG8gcXVlIHBlcm1pdGUgZWxpbWluYXIgdW5hIGNvbWFuZGEgZGVzZWFkYS5cbiAgICogQHBhcmFtIG5vbWJyZSBOb21icmUgZGUgbGEgY29tYW5kYSBhIGVsaW1pbmFyLlxuICAgKi9cbiAgcXVpdGFyRWxlbWVudG8obm9tYnJlTWVudTogc3RyaW5nLCBjYW50aWRhZE1lbnU6IG51bWJlcikge1xuICAgIGNvbnN0IG1hdGNoZWRNZW51czogKE1lbnV8UGxhdG8pW10gPSB0aGlzLmVuY29udHJhckVuQ29tYW5kYShub21icmVNZW51KTtcbiAgICBjb25zb2xlLnRhYmxlKG1hdGNoZWRNZW51cyk7ICAgICAgLy8gSU1QUklNSVIgUEFSQSBDT01QUk9CQVIgUVXDiSBFTkNVRU5UUkEgUEFSQSBCT1JSQVJcbiAgICBsZXQgaW5kZXg7XG4gICAgbGV0IHZhbG9yT2JqZXRvOiAoTWVudXxQbGF0byk7XG4gICAgdGhpcy5jb21hbmRhLmZvckVhY2goKGVsZW1lbnRvKSA9PiB7XG4gICAgICAvL3ZhbG9yT2JqZXRvID0gZWxlbWVudG9bMF07XG4gICAgICBpbmRleCA9IHRoaXMuY29tYW5kYS5pbmRleE9mKGVsZW1lbnRvLCAwKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMuY29tYW5kYS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgICAvKlxuICAgICAgaWYgKHRoaXMuaXNNZW51KGVsZW1lbnRbMF0pKSB7XG4gICAgICAgIGluZGV4ID0gdGhpcy5jb21hbmRhLmluZGV4T2YoZWxlbWVudFswXSwgMCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5jb21hbmRhLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1BsYXRvKGVsZW1lbnRbMF0pIHtcbiAgICAgICAgaW5kZXggPSB0aGlzLmNvbWFuZGEuaW5kZXhPZihlbGVtZW50WzBdLCAwKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICB0aGlzLmNvbWFuZGEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSovXG4gICAgfSk7XG4gIH1cbn1cblxuLypcbiogMTogVmlzdWFsaXphciBsYSBjYXJ0YSBkZWwgcmVzdGF1cmFudGU6IFBhcmEgY2FkYSBtZW7DuiB5L28gcGxhdG8sIFxuKiAgIGVsIGNsaWVudGUgcXVlcnLDoSBwb2RlciBvYnNlcnZhciB0b2RhIGxhIGluZm9ybWFjacOzbiBxdWUgdGllbmUgXG4qICAgKHByZWNpbywgaW5ncmVkaWVudGVzLCBjb21wb3NpY2nDs24gbnV0cmljaW9uYWwgeSBncnVwb3MgZGUgYWxpbWVudG9zKS5cbipcbiogMjogUmVhbGl6YXIgdW5hIGNvbWFuZGE6IEVsIGNsaWVudGUgcG9kcmE6IC0+IEVsZWdpciB1bmEgY29tYW5kYSBkZWwgbWVudSBwcmVlc3RhYmxlY2lkb1xuKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLT4gUG9kcmEgY3JlYXIgdW4gbWVudSBwZXJzb25hbGl6YWRvIGVuIGJhc2UgYSBsYSBjYXJ0YSAtPiB2aXN1YWxpemFyIGxhIGNhcnRhXG4qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtPiBFbGVnaXIgcGxhdG9zIHkgY2FudGlkYWRcbiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+IFBvZHJhIG1vZGlmaWNhciB1bm8gZGUgbG9zIG1lbnUgcHJlZXN0YWJsZWNpZG9zIC0+IEVsaW1pbmFuZG8gcGxhdG9zXG4qL1xuXG4vL0VzdG8gZW51bWFyYXJhIGxhcyBkaWZlcmVudGVzIG9wY2lvbmVzIGRlbCBtZW51IHByaW5jaXBhbFxuZW51bSBvcHRpb25ze1xuICBWaXN1YWxpemFyID0gXCJWaXN1YWxpemFyIGxhIENhcnRhXCIsXG4gIENvbWFuZGEgPSBcIkhhY2VyIGNvbWFuZGFcIixcbiAgU2FsaXIgPSBcIlNhbGlyXCJcbn1cblxuLy9TZWd1bmRvIE1lbnUgcGFyYSBlbCBjYXNvIGRlICBDb21hbmRhc1xuYXN5bmMgZnVuY3Rpb24gcHJvbXB0U2Vjb25kKCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zb2xlLmNsZWFyKCk7XG4gIGlucXVpcmVyLnByb21wdCh7XG4gICAgdHlwZTogJ2xpc3QnLFxuICAgIG5hbWU6ICdzZWd1bmRhcmVzcHVlc3RhJyxcbiAgICBNZXNzYWdlOiAnwr9RdWUgZGVzZWEgaGFjZXIgYWhvcmE/JyxcbiAgICBjaG9pY2VzOiAnJ1xuICAgIFxuICB9KVxufVxuXG4vLyBGdW5jaW9uIHByaW5jaXBhbCBkZWwgbWVudSBcbmZ1bmN0aW9uIHByb21wdENvbWFuZGEoKXtcbiAgY29uc29sZS5jbGVhcigpO1xuICAvL3NlcmlhIG5lY2VzYXJpbyBlbCBhc3luYyBzaSBxdWlzaWVyYW1vcyBlamVjdXRhciBhbGdvIGFxdWkgYSBwYXJ0ZSBjb21vIGxhIHZpc3VhbGl6YWNpb24gZGUgYWxnb1xuICBjb25zdCBhbnN3ZXJzID0gaW5xdWlyZXIucHJvbXB0KHtcbiAgICB0eXBlOiAnbGlzdCcsXG4gICAgbmFtZTogJ3Jlc3B1ZXN0YScsXG4gICAgbWVzc2FnZTogJ1NlbGVjY2lvbmUgdW5hIG9wY2lvbjonLFxuICAgIGNob2ljZXM6IE9iamVjdC52YWx1ZXMob3B0aW9ucylcbiAgfSk7XG4gIFxuICBzd2l0Y2ggKGFuc3dlcnNbXCJyZXNwdWVzdGFcIl0pIHtcbiAgICBjYXNlIG9wdGlvbnMuVmlzdWFsaXphcjpcbiAgICAgIC8vTGxhbWFkYSBhIHVuIGZ1bmNpb24gcXVlIGRldnVlbHZhIGxhIGNhcnRhIGRlbCByZXN0YXVyYW50ZSBcbiAgICAgIC8vbGV0IG1pQ2FydGEgPSBuZXcgQ2FydGEobm9tYnJlLHRvZG9zIGxvcyBtZW51cyBkZSBsYSBjYXJ0YSwgcGxhdG9zIHN1ZWx0b3MpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIG9wdGlvbnMuQ29tYW5kYTpcbiAgICAgIC8vQXF1aSB2YSBsYSBmdW5jaW9uIHF1ZSBlamVjdXRhIHVuIG1lbnUgaW50ZXJubyBxdWUgcGVybWl0ZSBtb2RpZmljYXIgbyBzZWxlY2Npb25hciB1biBtZW51IHBlcnNvbmFsaXphZG9cbiAgICAgIGJyZWFrO1xuICAgIGNhc2Ugb3B0aW9ucy5TYWxpcjpcbiAgICAgIC8vc2FsaW1vc1xuICAgICAgYnJlYWs7XG4gIH1cbn0iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VzdWFyaW8vZHNpL3ByYWN0aWNhNy9zcmMvY29tYW5kYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiczJmQWVVOzJOQVhWLEtBQU0sQ0FBQSxRQUFRLDBCQUFHLE9BQU8sQ0FBQyxVQUFELENBQVYsQ0FBZCxDQUVBOztBQUVHLEdBQ0gsS0FBYSxDQUFBLE9BQU8sQ0FPbEIsV0FBQSxDQUFvQixLQUFwQixDQUFnQyxpREFBWixLQUFBLEtBQUEsQ0FBQSxLQUFBLENBTnBCOzs7QUFHRyxXQUc2QixDQUZoQztBQUVnQyx3QkFEeEIsS0FBQSxPQUFBLENBQWtDLEVBQWxDLENBRVAsQ0FFRDs7O0FBR0csT0FDSCxjQUFjLEVBQUEsaURBQ1osTUFBTyxNQUFLLE9BQVosQ0FDRCxDQUVEOzs7O0FBSUcsT0FDSCxTQUFTLENBQUMsVUFBRCxDQUFxQixZQUFyQixDQUF5Qyx5QkFDaEQsS0FBTSxDQUFBLFlBQVksMEJBQUcsS0FBSyxLQUFMLENBQVcsVUFBWCxDQUFzQixVQUF0QixDQUFILENBQWxCLENBQ0E7QUFDQTtBQUVBOzs7O0FBSUcsV0FUNkMsd0JBVWhELFlBQVksQ0FBQyxPQUFiLENBQXNCLE9BQUQsRUFBWSxpREFDL0IsS0FBSyxPQUFMLENBQWEsSUFBYixDQUFrQixDQUFDLE9BQUQsQ0FBVSxZQUFWLENBQWxCLEVBQ0QsQ0FGRCxFQUdELENBRUQ7Ozs7QUFJRyxPQUNILFVBQVUsQ0FBQyxXQUFELENBQXNCLGFBQXRCLENBQTJDLHlCQUNuRCxLQUFNLENBQUEsYUFBYSwwQkFBRyxLQUFLLEtBQUwsQ0FBVyxXQUFYLENBQXVCLFdBQXZCLENBQUgsQ0FBbkIsQ0FEbUQseUJBR25ELGFBQWEsQ0FBQyxPQUFkLENBQXVCLE9BQUQsRUFBWSxrREFDaEMsS0FBSyxPQUFMLENBQWEsSUFBYixDQUFrQixDQUFDLE9BQUQsQ0FBVSxhQUFWLENBQWxCLEVBQ0QsQ0FGRCxFQUdELENBRUQ7OztBQUdHLE9BQ0gsTUFBTSxDQUFDLEtBQUQsQ0FBVyxrREFD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Q0FJOUIsT0FBTyxDQUFFLE1BQU0sQ0FBQyxNQUFQLENBQWMsT0FBZCxDQUpxQixDQUFoQixDQUFILENBQWIsQ0FIb0IseUJBVXBCLE9BQVEsT0FBTyxDQUFDLFdBQUQsQ0FBZixFQUNFLElBQUssQ0FBQSxPQUFPLENBQUMsVUFBYixxREFDRTtBQUNBO0FBQ0EsTUFFRixJQUFLLENBQUEsT0FBTyxDQUFDLE9BQWIscURBQ0U7QUFDQSxNQUNGLElBQUssQ0FBQSxPQUFPLENBQUMsS0FBYixxREFDRTtBQUNBLE1BWEosQ0FhRCxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FydGEgfSBmcm9tIFwiLi9jYXJ0YVwiO1xuaW1wb3J0IHsgUGxhdG8gfSBmcm9tIFwiLi9wbGF0b1wiO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gXCIuL21lbnVcIjtcblxuY29uc3QgaW5xdWlyZXIgPSByZXF1aXJlKCdpbnF1aXJlcicpO1xuXG4vKipcbiAqIEVzdGEgZXMgbGEgY2xhc2UgQ29tYW5kYS4gXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21hbmRhIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGRlIGxhIGNsYXNlIENvbWFuZGEuXG4gICAqIEBwYXJhbSBjYXJ0YSBOb21icmUgZGUgbGEgY2FydGEuXG4gICAqL1xuICAvLyBDb21hbmRhIC0+IFtMbyBxdWUgcGlkZSwgY2FudGlkYWQgZGUgbG8gcXVlIHBpZGVdXG4gIHByaXZhdGUgY29tYW5kYTogW01lbnV8UGxhdG8sIG51bWJlcl1bXSA9IFtdO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhcnRhOiBDYXJ0YSkgeyAvLywgcHJpdmF0ZSBhcnJheUNvbWFuZGE6IFtNZW51fFBsYXRvLCBudW1iZXJdW10pIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRpZW5lIGxhIGNvbWFuZGEuXG4gICAqIEByZXR1cm5zIExhIGNvbWFuZGEgZW50ZXJhLlxuICAgKi9cbiAgbW9zdHJhckNvbWFuZGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tYW5kYTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIE3DqXRvZG8gcXVlIHBlcm1pdGUgYWwgY2xpZW50ZSBhw7FhZGlyIHVuIG1lbsO6IGEgbGEgY29tYW5kYVxuICAgKiBAcGFyYW0gbm9tYnJlTWVudSBFbCBub21icmUgZGVsIG1lbsO6IHF1ZSBxdWllcmUgYcOxYWRpciBhIGxhIGNvbWFuZGEuXG4gICAqIEBwYXJhbSBjYW50aWRhZE1lbnUgTGEgY2FudGlkYWQgZGUgbWVuw7pzIHF1ZSBxdWllcmUgYcOxYWRpciBhIGxhIGNvbWFuZGEuXG4gICAqL1xuICBzdW1hck1lbnUobm9tYnJlTWVudTogc3RyaW5nLCBjYW50aWRhZE1lbnU6IG51bWJlcikge1xuICAgIGNvbnN0IG1hdGNoZWRNZW51cyA9IHRoaXMuY2FydGEuc2VhcmNoTWVudShub21icmVNZW51KTtcbiAgICAvLyBFTiBFU1RFIFBVTlRPLCBTSSBIQVkgQ0VSTyBPIE3DgVMgREUgRE9TIENPSU5DSURFTkNJQVMgRU4gRUwgTUVOw5ogXG4gICAgLy8gcHJlZ3VudGFyIGFsIGNsaWVudGUgY29uIGN1w6FsIGRlIGVsbGFzIHNlIHF1aWVyZSBxdWVkYXIgdSBvZnJlY2VybGUgYnVzY2FyIGRlIG51ZXZvLiBcblxuICAgIC8qKlxuICAgICAqIEVzdG8gbG8gcXVlIGhhY2UgZXMgcXVlIHRvZG9zIGxvcyBwbGF0b3MgcXVlIGNvaW5jaWRhbiBjb24gZWwgbm9tYnJlIGJ1c2NhZG8sXG4gICAgICogbG9zIGHDsWFkZSBpZ3VhbG1lbnRlIGEgbGEgY29tYW5kYSB5IGVuIGxhIG1pc21hIGNhbnRpZGFkLlxuICAgICAqIEFzw60gcXVlIEhBWSBRVUUgQVJSRUdMQVJMTy5cbiAgICAgKi9cbiAgICBtYXRjaGVkTWVudXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5jb21hbmRhLnB1c2goW2VsZW1lbnQsIGNhbnRpZGFkTWVudV0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE3DqXRvZG8gcXVlIHBlcm1pdGUgYWwgY2xpZW50ZSBhw7FhZGlyIHVuIHBsYXRvIGEgbGEgY29tYW5kYVxuICAgKiBAcGFyYW0gbm9tYnJlUGxhdG8gRWwgbm9tYnJlIGRlbCBwbGF0byBxdWUgcXVpZXJlIGHDsWFkaXIgYSBsYSBjb21hbmRhLlxuICAgKiBAcGFyYW0gY2FudGlkYWRQbGF0byBMYSBjYW50aWRhZCBkZSBlc3RlIHRpcG8gZGUgcGxhdG9zIHF1ZSBxdWllcmUgYcOxYWRpciBhIGxhIGNvbWFuZGEuXG4gICAqL1xuICBzdW1hclBsYXRvKG5vbWJyZVBsYXRvOiBzdHJpbmcsIGNhbnRpZGFkUGxhdG86IG51bWJlcikge1xuICAgIGNvbnN0IG1hdGNoZWRQbGF0b3MgPSB0aGlzLmNhcnRhLnNlYXJjaFBsYXRvKG5vbWJyZVBsYXRvKTtcblxuICAgIG1hdGNoZWRQbGF0b3MuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5jb21hbmRhLnB1c2goW2VsZW1lbnQsIGNhbnRpZGFkUGxhdG9dKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jacOzbiBwYXJhIGRlc2hhY2VyIGVsIGd1YXJkacOhbiBkZSB0aXBvcy5cbiAgICogQHJldHVybnMgVHJ1ZSBzaSBlbCBvYmpldG8gZXMgZGUgY2xhc2UgTWVudS5cbiAgICovXG4gIGlzTWVudShteU9iajogYW55KTogbXlPYmogaXMgTWVudSB7XG4gICAgcmV0dXJuIG15T2JqLmdldE5vbWJyZU1lbnUoKSAhPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmNpw7NuIHBhcmEgZGVzaGFjZXIgZWwgZ3VhcmRpw6FuIGRlIHRpcG9zLlxuICAgKiBAcmV0dXJucyBUcnVlIHNpIGVsIG9iamV0byBlcyBkZSBjbGFzZSBQbGF0by5cbiAgICovXG4gIGlzUGxhdG8obXlPYmo6IGFueSk6IG15T2JqIGlzIFBsYXRvIHtcbiAgICByZXR1cm4gbXlPYmouZ2V0Tm9tYnJlUGxhdG8oKSAhPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIE3DqXRvZG8gcXVlIHBlcm1pdGUgZW5jb250cmFyIHVuYSBjb21hbmRhIGRlc2VhZGEuXG4gICAqIEBwYXJhbSBub21icmUgTm9tYnJlIGRlIGxhIGNvbWFuZGEgYSBidXNjYXIuXG4gICAqL1xuICBlbmNvbnRyYXJFbkNvbWFuZGEobm9tYnJlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtYXRjaGVkUmVzdWx0czogKE1lbnV8UGxhdG8pW10gPSBbXTtcbiAgICB0aGlzLmNvbWFuZGFbMF0uZm9yRWFjaCgoZWxlbWVudG8pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnRvKTtcbiAgICAgIGlmICh0aGlzLmlzTWVudShlbGVtZW50bykpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRvLmdldE5vbWJyZU1lbnUoKS5zZWFyY2gobm9tYnJlKSA+IC0xKSB7XG4gICAgICAgICAgbWF0Y2hlZFJlc3VsdHMucHVzaChlbGVtZW50byk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1BsYXRvKGVsZW1lbnRvKSkge1xuICAgICAgICBpZiAoZWxlbWVudG8uZ2V0Tm9tYnJlUGxhdG8oKS5zZWFyY2gobm9tYnJlKSA+IC0xKSB7XG4gICAgICAgICAgbWF0Y2hlZFJlc3VsdHMucHVzaChlbGVtZW50byk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWF0Y2hlZFJlc3VsdHM7XG4gIH1cblxuICAvKipcbiAgICogTcOpdG9kbyBxdWUgcGVybWl0ZSBlbGltaW5hciB1bmEgY29tYW5kYSBkZXNlYWRhLlxuICAgKiBAcGFyYW0gbm9tYnJlIE5vbWJyZSBkZSBsYSBjb21hbmRhIGEgZWxpbWluYXIuXG4gICAqL1xuICBxdWl0YXJFbGVtZW50byhub21icmVNZW51OiBzdHJpbmcsIGNhbnRpZGFkTWVudTogbnVtYmVyKSB7XG4gICAgY29uc3QgbWF0Y2hlZE1lbnVzOiAoTWVudXxQbGF0bylbXSA9IHRoaXMuZW5jb250cmFyRW5Db21hbmRhKG5vbWJyZU1lbnUpO1xuICAgIGNvbnNvbGUudGFibGUobWF0Y2hlZE1lbnVzKTsgICAgICAvLyBJTVBSSU1JUiBQQVJBIENPTVBST0JBUiBRVcOJIEVOQ1VFTlRSQSBQQVJBIEJPUlJBUlxuICAgIGxldCBpbmRleDtcbiAgICBsZXQgdmFsb3JPYmpldG86IChNZW51fFBsYXRvKTtcbiAgICB0aGlzLmNvbWFuZGEuZm9yRWFjaCgoZWxlbWVudG8pID0+IHtcbiAgICAgIC8vdmFsb3JPYmpldG8gPSBlbGVtZW50b1swXTtcbiAgICAgIGluZGV4ID0gdGhpcy5jb21hbmRhLmluZGV4T2YoZWxlbWVudG8sIDApO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5jb21hbmRhLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAgIC8qXG4gICAgICBpZiAodGhpcy5pc01lbnUoZWxlbWVudFswXSkpIHtcbiAgICAgICAgaW5kZXggPSB0aGlzLmNvbWFuZGEuaW5kZXhPZihlbGVtZW50WzBdLCAwKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICB0aGlzLmNvbWFuZGEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzUGxhdG8oZWxlbWVudFswXSkge1xuICAgICAgICBpbmRleCA9IHRoaXMuY29tYW5kYS5pbmRleE9mKGVsZW1lbnRbMF0sIDApO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHRoaXMuY29tYW5kYS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9Ki9cbiAgICB9KTtcbiAgfVxufVxuXG4vKlxuKiAxOiBWaXN1YWxpemFyIGxhIGNhcnRhIGRlbCByZXN0YXVyYW50ZTogUGFyYSBjYWRhIG1lbsO6IHkvbyBwbGF0bywgXG4qICAgZWwgY2xpZW50ZSBxdWVycsOhIHBvZGVyIG9ic2VydmFyIHRvZGEgbGEgaW5mb3JtYWNpw7NuIHF1ZSB0aWVuZSBcbiogICAocHJlY2lvLCBpbmdyZWRpZW50ZXMsIGNvbXBvc2ljacOzbiBudXRyaWNpb25hbCB5IGdydXBvcyBkZSBhbGltZW50b3MpLlxuKlxuKiAyOiBSZWFsaXphciB1bmEgY29tYW5kYTogRWwgY2xpZW50ZSBwb2RyYTogLT4gRWxlZ2lyIHVuYSBjb21hbmRhIGRlbCBtZW51IHByZWVzdGFibGVjaWRvXG4qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtPiBQb2RyYSBjcmVhciB1biBtZW51IHBlcnNvbmFsaXphZG8gZW4gYmFzZSBhIGxhIGNhcnRhIC0+IHZpc3VhbGl6YXIgbGEgY2FydGFcbiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+IEVsZWdpciBwbGF0b3MgeSBjYW50aWRhZFxuKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLT4gUG9kcmEgbW9kaWZpY2FyIHVubyBkZSBsb3MgbWVudSBwcmVlc3RhYmxlY2lkb3MgLT4gRWxpbWluYW5kbyBwbGF0b3NcbiovXG5cbi8vRXN0byBlbnVtYXJhcmEgbGFzIGRpZmVyZW50ZXMgb3BjaW9uZXMgZGVsIG1lbnUgcHJpbmNpcGFsXG5lbnVtIG9wdGlvbnN7XG4gIFZpc3VhbGl6YXIgPSBcIlZpc3VhbGl6YXIgbGEgQ2FydGFcIixcbiAgQ29tYW5kYSA9IFwiSGFjZXIgY29tYW5kYVwiLFxuICBTYWxpciA9IFwiU2FsaXJcIlxufVxuXG4vL1NlZ3VuZG8gTWVudSBwYXJhIGVsIGNhc28gZGUgIENvbWFuZGFzXG5hc3luYyBmdW5jdGlvbiBwcm9tcHRTZWNvbmQoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnNvbGUuY2xlYXIoKTtcbiAgaW5xdWlyZXIucHJvbXB0KHtcbiAgICB0eXBlOiAnbGlzdCcsXG4gICAgbmFtZTogJ3NlZ3VuZGFyZXNwdWVzdGEnLFxuICAgIE1lc3NhZ2U6ICfCv1F1ZSBkZXNlYSBoYWNlciBhaG9yYT8nLFxuICAgIGNob2ljZXM6ICcnXG4gICAgXG4gIH0pXG59XG5cbi8vIEZ1bmNpb24gcHJpbmNpcGFsIGRlbCBtZW51IFxuZnVuY3Rpb24gcHJvbXB0Q29tYW5kYSgpe1xuICBjb25zb2xlLmNsZWFyKCk7XG4gIC8vc2VyaWEgbmVjZXNhcmlvIGVsIGFzeW5jIHNpIHF1aXNpZXJhbW9zIGVqZWN1dGFyIGFsZ28gYXF1aSBhIHBhcnRlIGNvbW8gbGEgdmlzdWFsaXphY2lvbiBkZSBhbGdvXG4gIGNvbnN0IGFuc3dlcnMgPSBpbnF1aXJlci5wcm9tcHQoe1xuICAgIHR5cGU6ICdsaXN0JyxcbiAgICBuYW1lOiAncmVzcHVlc3RhJyxcbiAgICBtZXNzYWdlOiAnU2VsZWNjaW9uZSB1bmEgb3BjaW9uOicsXG4gICAgY2hvaWNlczogT2JqZWN0LnZhbHVlcyhvcHRpb25zKVxuICB9KTtcbiAgXG4gIHN3aXRjaCAoYW5zd2Vyc1tcInJlc3B1ZXN0YVwiXSkge1xuICAgIGNhc2Ugb3B0aW9ucy5WaXN1YWxpemFyOlxuICAgICAgLy9MbGFtYWRhIGEgdW4gZnVuY2lvbiBxdWUgZGV2dWVsdmEgbGEgY2FydGEgZGVsIHJlc3RhdXJhbnRlIFxuICAgICAgLy9sZXQgbWlDYXJ0YSA9IG5ldyBDYXJ0YShub21icmUsdG9kb3MgbG9zIG1lbnVzIGRlIGxhIGNhcnRhLCBwbGF0b3Mgc3VlbHRvcyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2Ugb3B0aW9ucy5Db21hbmRhOlxuICAgICAgLy9BcXVpIHZhIGxhIGZ1bmNpb24gcXVlIGVqZWN1dGEgdW4gbWVudSBpbnRlcm5vIHF1ZSBwZXJtaXRlIG1vZGlmaWNhciBvIHNlbGVjY2lvbmFyIHVuIG1lbnUgcGVyc29uYWxpemFkb1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBvcHRpb25zLlNhbGlyOlxuICAgICAgLy9zYWxpbW9zXG4gICAgICBicmVhaztcbiAgfVxufSJdfQ==