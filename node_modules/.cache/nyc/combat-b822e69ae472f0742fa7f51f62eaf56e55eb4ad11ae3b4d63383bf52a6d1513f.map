{"version":3,"file":"/home/usuario/dsi/practica6/src/ejercicio-1/combat.ts","sources":["/home/usuario/dsi/practica6/src/ejercicio-1/combat.ts"],"names":[],"mappings":"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","sourcesContent":["import { Fighter } from \"./fighter\";\nimport { Pokemon } from \"./Pokemon\";\nimport { DragonBall } from \"./DragonBall\";\nimport { StarWars } from \"./StarWars\";\nimport { Marvel } from \"./Marvel\";\nimport { DC } from \"./DC\";\n\n/**\n * Esta es la clase Combat.\n */\nexport class Combat {\n\n/**\n * Constructor de la clase Combat.\n * @param combatiente1 Primer combatiente de la batalla.\n * @param combatiente2 Segundo combatiente de la batalla.\n */\n  constructor(public combatiente1: Fighter, public combatiente2: Fighter) {}\n\n/**\n * Esta función se encarga de calcular la eficacia y el daño de un ataque.\n * @param universo1 Es el universo al que pertenece el combatiente atacante.\n * @param universo2 Es el universo al que pertenece el combatiente defensor.\n * @param damage Es la cantidad de ataque que posee el combatiente atacante.\n * @return Devuelve el daño de ataque multiplicado por la efectividad.\n * \n * Usage:\n * ```typescript\n * combate(\"Marvel\", \"DragonBall\", 20) = 40\n * ```\n */\n  public combate(universo1: string, universo2: string, damage: number): number {\n  \n    let effectiveness: number = 0;\n    let typeA: string = \"\";\n    let typeB: string = \"\";\n    typeA = this.combatiente1.getTipo();\n    typeB = this.combatiente2.getTipo();\n  \n    if (universo1 === \"DragonBall\") {\n      if (universo2 === \"DragonBall\")\n        effectiveness = 1;\n      if (universo2 === \"StarWars\")\n        effectiveness = 0.5;\n      if (universo2 === \"Marvel\")\n        effectiveness = 1;\n      if (universo2 === \"DC\")\n        effectiveness = 2;\n      if (universo2 === \"Pokemon\")\n        effectiveness = 2;\n    }\n    if (universo1 === \"StarWars\") {\n      if (universo2 === \"DragonBall\")\n        effectiveness = 1;\n      if (universo2 === \"StarWars\")\n        effectiveness = 1;\n      if (universo2 === \"Marvel\")\n        effectiveness = 0.5;\n      if (universo2 === \"DC\")\n        effectiveness = 0.5;\n      if (universo2 === \"Pokemon\")\n        effectiveness = 2;\n    }\n    if (universo1 === \"Marvel\") {\n      if (universo2 === \"DragonBall\")\n        effectiveness = 1;\n      if (universo2 === \"StarWars\")\n        effectiveness = 2;\n      if (universo2 === \"Marvel\")\n        effectiveness = 1;\n      if (universo2 === \"DC\")\n        effectiveness = 2;\n      if (universo2 === \"Pokemon\")\n        effectiveness = 0.5;\n    }\n    if (universo1 === \"DC\") {\n      if (universo2 === \"DragonBall\")\n        effectiveness = 0.5;\n      if (universo2 === \"StarWars\")\n        effectiveness = 2;\n      if (universo2 === \"Marvel\")\n        effectiveness = 0.5;\n      if (universo2 === \"DC\")\n        effectiveness = 1;\n      if (universo2 === \"Pokemon\")\n        effectiveness = 1;\n    }\n    if (universo1 === \"Pokemon\" ) {\n      if (universo2 === \"DragonBall\")\n        effectiveness = 0.5;\n      if (universo2 === \"StarWars\")\n        effectiveness = 0.5;\n      if (universo2 === \"Marvel\")\n        effectiveness = 2;\n      if (universo2 === \"DC\")\n        effectiveness = 1;\n      if (universo2 === \"Pokemon\") {\n        if (typeA === \"fuego\") {\n          if (typeB === \"hierba\")\n            effectiveness = 2;\n          if (typeB === \"fuego\" || typeB === \"electrico\")\n            effectiveness = 1;\n          if (typeB === \"agua\")\n            effectiveness = 0.5;\n        }\n        else if (typeA === \"agua\") { \n          if (typeB === \"fuego\")\n            effectiveness = 2;\n          if (typeB === \"agua\")\n            effectiveness = 1;\n          if (typeB === \"hierba\" || typeB === \"electrico\")\n            effectiveness = 0.5;\n        }\n        else if (typeA === \"hierba\") {\n          if (typeB === \"agua\")\n            effectiveness = 2;\n          if (typeB === \"hierba\" || typeB === \"electrico\")\n            effectiveness = 1;\n          if (typeB === \"fuego\")\n            effectiveness = 0.5; \n        }\n        else if (typeA === \"electrico\") {\n          if (typeB === \"agua\")\n            effectiveness = 2;\n          if (typeB === \"electrico\" || typeB === \"hierba\" || typeB === \"fuego\")\n            effectiveness = 1;\n        }\n      }\n    }\n    let total_damage: number = effectiveness * damage;\n    total_damage = Math.round(total_damage);\n    return total_damage;\n  }\n\n/**\n * Esta función se encarga de simular todo el combate.\n * @return Devuelve quién ha sido el ganador.\n * \n * Usage:\n * ```typescript\n * combate() = \"El ganador del combate entre universos es... ¡¡¡¡Charizard!!!!\"\n * ```\n */\n  public start(): string {\n\n    console.log(\"\\n\\n¡Bienvenidos al combate pokemon!\");\n    console.log(\"En la batalla de hoy, lucharan \" + this.combatiente1.getNombre() + \" contra \"\n      + this.combatiente2.getNombre() + \".\");\n    console.log(\"¡QUE COMIENCE EL COMBATE!\\n\\n\");\n\n    let daño1: number = 50 * (this.combatiente1.getAtaque() / this.combatiente2.getDefensa());\n    let daño2: number = 50 * (this.combatiente2.getAtaque() / this.combatiente1.getDefensa());\n    let vida_nueva1: number = 0;\n    let vida_nueva2: number = 0;\n\n    daño1 = this.combate(this.combatiente1.getUniverso(),this.combatiente2.getUniverso(),daño1); \n    daño2 = this.combate(this.combatiente2.getUniverso(),this.combatiente1.getUniverso(),daño2);\n    \n    while ((this.combatiente1.getHp() > 0) && (this.combatiente2.getHp() > 0)) {\n\n      console.log(this.combatiente1.getNombre() + \" atacó a \" + this.combatiente2.getNombre() + \".\");\n\n      vida_nueva1 = this.combatiente2.getHp() - daño1;\n      this.combatiente2.setHp(vida_nueva1);\n      \n      if (this.combatiente2.getHp() > 0)\n        console.log(this.combatiente2.getNombre() + \" ahora tiene \" + this.combatiente2.getHp() +\" de vida.\");\n      else\n        console.log(this.combatiente2.getNombre() + \" se debilitó. :(\");\n\n      if (this.combatiente2.getHp() > 0) {\n        console.log(this.combatiente2.getNombre() + \" atacó a \" + this.combatiente1.getNombre()) + \".\";\n        vida_nueva2 = this.combatiente1.getHp() - daño2;\n        this.combatiente1.setHp(vida_nueva2);\n\n        if (this.combatiente1.getHp() > 0)\n          console.log(this.combatiente1.getNombre() + \" ahora tiene \" + this.combatiente1.getHp() +\" de vida.\");\n        else\n          console.log(this.combatiente1.getNombre() + \" se debilitó. :(\");\n      }\n    }\n    if (this.combatiente1.getHp() > 0) {\n      console.log(\"\\n\");\n      let resultado: string = (\"El ganador del combate entre universos es... ¡¡¡¡\" + this.combatiente1.getNombre() + \"!!!!\");\n      return resultado;\n    }\n    else {\n      console.log(\"\\n\");\n      let resultado: string = (\"El ganador del combate entre universos es... ¡¡¡¡\" + this.combatiente2.getNombre() + \"!!!!\");\n      return resultado;\n    }\n  }\n}\n\nlet charizard: Pokemon = new Pokemon(\"Charizard\", 40, 60, \"fuego\", 10, 15, 10, 100, \"Pokemon\");\nlet venusaur: Pokemon = new Pokemon(\"Venusaur\", 30, 40, \"hierba\", 15, 20, 15, 120, \"Pokemon\");\nlet goku: DragonBall = new DragonBall(\"Goku\", 35, 50, \"cheto\", 10, 20, 15, 100, \"DragonBall\");\nlet yoda: StarWars = new StarWars(\"Yoda\", 10, 5, \"mago\", 20, 15, 20, 80, \"StarWars\");\nlet hulk: Marvel = new Marvel(\"Hulk\", 50, 100, \"tanque\", 10, 30, 5, 200, \"Marvel\");\nlet superman: DC = new DC(\"Superman\", 30, 20, \"lucha\", 30, 20, 30, 120, \"DC\");\n\nlet combate1: Combat = new Combat(hulk, goku);\n\nconsole.log(combate1.start());"]}